---
layout:     post
title:      ViewPager2
subtitle:   ViewPager禁用预加载
date:       2021-04-12
author:     Tristan
header-img: img/viewpager2_bg.jpeg
catalog: true
tags:
    - 预加载
    - 懒加载
    - 离屏加载
    
---

## 背景
在首页和优惠券两个页面开发的过程中，同时都使用了ViewPager用于横向页面切换。其满足基本的功能是OK的，但要完胜还有不足。比如，1)无法将离屏缓存页参数设置小于1，即不能关闭预加载；2)无法通过Adapter动态更新数据；3)禁止通过手势滑动翻页时，依然会出现页面滚动的迹象。

## 懒加载
既然不能关闭预加载，那么就出现了懒加载。
#### ViewPager懒加载

Fragment中的setUserVisibleHint方法在v1.1.0中已经标记为已过时。

#### ViewPager2懒加载

## ViewPager2和ViewPager的区别
#### View实现
#### Adapter更新

## ViewPager2新功能
#### Banner实现


## 参考文档
[RecyclerView缓存机制详解](https://www.cnblogs.com/ldq2016/p/9035948.html)<br/>
[ViewPager2重大更新，支持offscreenPageLimit](https://blog.csdn.net/Coo123_/article/details/92009724?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-4.control&dist_request_id=&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-4.control)<br/>
[ViewPager2和Fragment可见性及懒加载解决方案](https://zhangphil.blog.csdn.net/article/details/108893237)<br/>
[ViewPager2 详细使用](https://blog.csdn.net/baidu_40389775/article/details/103774074)<br/>
[RecyclerView扩展(五) - ViewPager2的源码分析](https://www.jianshu.com/p/70c5d3f0bb34)<br/>
[探索取代ViewPager的ViewPager2](https://www.jianshu.com/p/bd70970600aa)<br/>
[ViewPager2：官方Viewpager升级版来临](https://www.codercto.com/a/61727.html)<br/>
[ViewPager数据修改使用notifyDataSetChanged无刷新的问题](https://blog.csdn.net/Jafilah2010/article/details/51203537?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control&dist_request_id=1330144.34823.16182184090129255&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-1.control)<br/>
[ViewPagerHelper](https://github.com/LillteZheng/ViewPagerHelper)<br/>
